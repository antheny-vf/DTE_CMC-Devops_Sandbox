{
  "AWSTemplateFormatVersion": "2010-09-09",
  "Description": "Amplify template for CI/CD.",
  "Resources": {
    "App": {
      "Type": "AWS::Amplify::App",
      "Properties": {
        "Name": "DTE_CMC-Devops_Sandbox2",
        "OauthToken": "9f858a68e61bc6cc9aeeabd991fec72981a4a8a8",
        "Repository": "https://github.com/antheny-vf/DTE_CMC-Devops_Sandbox",
        "BuildSpec": "amplify.yml"
      }
    },
    "Master": {
      "Type": "AWS::Amplify::Branch",
      "Properties": {
        "AppId": { "Fn::GetAtt": ["App", "AppId"] },
        "BranchName": "master",
        "Description": "Master Branch",
        "EnableAutoBuild": "true"
      },
      "DependsOn" : ["App"]
    },
    "Develop": {
      "Type": "AWS::Amplify::Branch",
      "Properties": {
        "AppId": { "Fn::GetAtt": ["App", "AppId"] },
        "BranchName": "develop",
        "Description": "Dev Branch",
        "EnableAutoBuild": "true"
      },
      "DependsOn" : ["App"]
    }
  }
}

{
  "AWSTemplateFormatVersion": "2010-09-09",
  "Description": "Amplify template for CI/CD.",
  "Resources": {
    "App": {
      "Type": "AWS::Amplify::App",
      "Properties": {
        "Name": "DTE_CMC-Devops_Sandbox1",
        "OauthToken": "e42437f846d10ed03129e205094d0f5919cd29af",
        "Repository": "https://github.com/antheny-vf/DTE_CMC-Devops_Sandbox"
      }
    },
    "Master": {
      "Type": "AWS::Amplify::Branch",
      "Properties": {
        "AppId": { "Fn::GetAtt": ["App", "AppId"] },
        "BranchName": "master",
        "Description": "Master Branch",
        "EnableAutoBuild": "true"
      },
      "DependsOn" : ["App"]
    },
    "Develop": {
      "Type": "AWS::Amplify::Branch",
      "Properties": {
        "AppId": { "Fn::GetAtt": ["App", "AppId"] },
        "BranchName": "develop",
        "Description": "Dev Branch",
        "EnableAutoBuild": "true"
      },
      "DependsOn" : ["App"]
    }
  }
}
